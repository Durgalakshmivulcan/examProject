    <!-- <link rel="stylesheet" href="/sites/gatdspproj/SiteAssets/FPS/css/bootstrap.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" >
    <!-- <link rel="stylesheet" href="/sites/BPR_Target/Style Library/MOSFILES/css/main.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <style>
    
        header {
            background-color: #15477C;
            height: 54px;
            text-align: center;
            justify-content: center;
        }
        
        .logo_div {
            display: flex;
            align-items: center;
            width: 80%;
        }

        .menus_div {
            position: relative;
            text-align: left;
            color: #fff;top:12px;
        }

        .menus_div a {
            color:#fff;
            font-size: 15px;
            text-decoration: none;
        }

        .profile_div {
            height: 100%;
            color: #fff;
            float: right;
            padding-top: 17px;
        }
        
        .ford-blue {
            background-color: #15477C;
            color: #fff;
        }
        .nav-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 5px;
            width: 95%;
            max-width: 100%;
            height:100%;

        }


        .navtabs {
            font-size:18px;
            font-weight:bold;
            display: flex;
            overflow: hidden;
            flex-wrap: nowrap;
        }


        .tab {
            padding: 10px 40px 20px;
            width:100%;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
            border-bottom: 2px solid transparent;
            background-color: #e9ecef;
            margin: 0 5px;
            border-radius: 5px;
            vertical-align:middle;
            display:flex;
            text-align:center;
        }


        .tab.active {
            border-bottom: 2px solid #007bff;
            font-weight: bold;
            color:white;
            background-color: #15477C;
        }


        .tab:hover {
            background-color: #15477C;
            color:white;
        }


        .content-container {
    display: flex;
    align-items: center;  /* Vertically center the content */
    justify-content: center;  /* Horizontally center the content */
    margin-top: 20px;
    width: 100%;
    height: 100%;
}

.arrow {
    cursor: pointer;
    padding: 10px;
    user-select: none;
    height:100%;
    background-color: #15477C;
    color: white;  /* Ensure the text color is visible */
    font-weight: bold;
    border-radius: 5px;
    margin: 0 10px;
    display: flex;
    align-items: center;  /* Vertically center the arrow */
}

.content {
    flex-grow: 1;
    height: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    overflow: auto;
    background-color: white;
    color: black;
    display: flex; 
    align-items: center; 
    justify-content: center; 
    display: none;
    font-size:19px;
    font-weight:600;
}

.content.active {
    display: flex;  /* Ensure the active content is displayed as flex */
    
}

        /* scroll background */
        ::-webkit-scrollbar {
            width: 7px;
            height: 7px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #888;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        #showTableData tr td textarea{
            width: 250px;
            height: 145px;
        }
        
        #showTableData tr td input{
            height: 45px;
        }
        .button-grid { 
            flex-wrap: wrap; 
            width:200px;
            justify-content: space-between;
            gap: 5px; 
        } 
        .btn-custom { 
            display: inline-block; 
            width: 40px; 
            height: 40px; 
            line-height: 40px; 
            text-align: center; 
            text-decoration: none; 
            color: black; 
            font-weight:bold;
            font-size:15px;
            background-color: white; 
            border:1px solid gray;
            border-radius: 50%; 
            margin: 5px; 
            transition: background-color 0.3s; 
            flex:20%;
        } 
        .btn-custom:hover { 
            background-color: #15477C; 
            text-decoration:none;
            color:white;
        } 
        .ms-1 { 
            margin-left: 5px; 
        } 
        .ms-2 { 
            margin-left: 10px; 
        } 
        .mt-2 { 
            margin-top: 10px; 
        }
        .grid-header { 
            font-size: 24px; 
            font-weight: bold; 
            margin-bottom: 5px;
            background-color:#15477C;
           
        }
        .btn-custom.active {
            background-color: #15477C;
            color: white;
        }
        .btn-custom.saved {
            background-color: green;
            color: white;
        }

        .btn-custom.unsaved {
            background-color: yellow;
            color: black;
        }
        .number-button.active {
            background-color: #15477C;
            color: white;
        }

    </style>


    <header>
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 col-lg-5">
                    <div class="logo_div">
                        <img src="/sites/gatdspproj/SiteAssets/FPS/images/logo.png" style="width:115px;" />
                        <h5 style="color:#fff;position: relative;top: 3px;"> Global FPS-Lean Maturity Model </h5>
                    </div>
                </div>
                <div class="col-12 col-lg-5 menus_div" >
                    <a class="pe-2" id="MenuHome" href="/sites/gatdspproj/SitePages/FPS-Home.aspx"> Home </a>
                    <a class="pe-2" id="MenuFrameWorkReview" href="/sites/gatdspproj/SitePages/FPS-FrameworkReview.aspx"> <u> <b> Framework Review </b> </u> </a>
                    <a class="pe-2" id="MenuScoreCard" href="/sites/gatdspproj/SitePages/FPS-ScoreCard.aspx"> Score Card </a>
                    <a class="pe-2" id="MenuAdminSite" href="/sites/gatdspproj/SitePages/FPS-Admin.aspx"> Admin </a>
                </div>
                <div class="col-12 col-lg-2 profile_div" >
                    <div>
                        <span style="font-size: 15px;position:relative;top:-3px;" id="showCurrentUser"></span>
                        <i class="fa fa-user-circle" style="font-size: 25px;"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="section">
        <div class="container-fluid">
            <div class="pt-2" >
                <div class="row">
                    
                    <div class="col-12 col-md-3">
                        <div class="form-group">
                            <label for="Regions"> Regions <span class="text-danger"> * </span> </label>
                            <select class="form-control form-select" name="Regions" id="Regions">
                                <option value=""> Select Region </option>
                            </select>
                        </div>
                    </div>

                    <div class="col-12 col-md-3">
                        <div class="form-group">
                            <label for="plants"> Plants <span class="text-danger"> * </span> </label>
                            <select class="form-control form-select" name="plants" id="plants" onchange="getTableData();">
                                <option value=""> Select Plant </option>
                            </select>
                        </div>
                    </div>

                    <div class="col-12 col-md-3">
                        <div class="form-group">
                            <label for="SkillTeamTab"> SkillTeam/Tab <span class="text-danger"> * </span> </label>
                            <select class="form-control form-select" name="SkillTeamTab" id="SkillTeamTab" onchange="getTableData();">
                                <option value=""> Select SkillTeam </option>
                            </select>
                        </div>
                    </div>

                    <div class="col-12 col-md-3">
                        <div class="form-group">
                            <label for="monthsearch"> Month <span class="text-danger"> * </span> </label>
                            <input type="month" class="form-control" name="monthsearch" id="monthsearch" onchange="getTableData();">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
    <div class="container-fluid mt-4">
        <div class="row">
            <div class="col-lg-9 col-md-9 col-9">
                <div class="nav-container">
                    <div class="navtabs">
                        <div class="tab active" data-index="0">Criteria</div>
                        <div class="tab" data-index="1">Evidence</div>
                        <div class="tab" data-index="2">0</div>
                        <div class="tab" data-index="3">1</div>
                        <div class="tab" data-index="4">2</div>
                        <div class="tab" data-index="5">3</div>
                        <div class="tab" data-index="6">Purpose</div>
                    </div>
                    <div class="content-container">
                        <div class="arrow" id="prev-arrow"><i class="bi bi-chevron-double-left"></i></div>
                        <div class="content active" id="content-0">Pedestrian safety committee is in place, however does not meet per T&DM or have actions plans in place. Pedestrian floor markings are in place, however areas appear to be worn or lacking. Less than 90% of Pedestrian and Material Handling Operators are meeting expectations (Horn Use, Stop Sign Compliance, Load transportation does not meet expectations, pedestrians not utilizing designated walkways)</div>
                        <!-- Add more content areas as needed -->
                        <div class="content" id="content-1">Evidence content goes here.</div>
                        <div class="content" id="content-2">Content for 0 goes here.</div>
                        <div class="content" id="content-3">Content for 1 goes here.</div>
                        <div class="content" id="content-4">Content for 2 goes here.</div>
                        <div class="content" id="content-5">Content for 3 goes here.</div>
                        <div class="content" id="content-6">Purpose content goes here.</div>
                        <div class="arrow" id="next-arrow"><i class="bi bi-chevron-double-right"></i></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-2 col-2 text-center">
                <div class="card" style="width:230px;">
                    <div class="grid-header py-2">
                        <h2 class="grid-header ms-1" style="color:white;">Number</h2>
                    </div>
                    <div class="card-body">
                    <div class="button-grid" id="numberGrid"> 
                    <a href="#" class="btn-custom number-button" data-index="0">1</a> 
                    <a href="#" class="btn-custom number-button" data-index="1">2</a> 
                    <a href="#" class="btn-custom number-button" data-index="2">3</a> 
                    <a href="#" class="btn-custom number-button" data-index="3">4</a> 
                    <a href="#" class="btn-custom number-button" data-index="4">5</a> 
                    </div>
                    </div>
                </div>
                <div class="mt-3">
                    <label class="my-2" style="margin-left:-170px;">Score</label>
                    <select class="form-control" name="tableScore" id="tableScore" style="width:50px;">
                        <option value=""></option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                    <label class="my-2" style="margin-left:-135px;">Comments</label>
                    <input type="textarea" class="form-control" style="width:300px;height:70px;" id="input2" name="input2" value="">
                    <div style="position:relative;">
                        <div class="mt-4" style="width:125px;position:absolute;">
                            <button class="btn btn-secondary" id="prevButton" style="min-width:50px;display: inline-block;font-size:15px; background-color:#e9ecef;color:black;font-weight:bold;" type="button" onclick="prevNumber()"><i class="bi bi-chevron-double-left"></i></button>
                            <button class="btn btn-secondary ms-3" id="nextButton" style="min-width:50px;font-size:15px; background-color:#e9ecef;color:black;font-weight:bold;" type="button" onclick="nextNumber()"><i class="bi bi-chevron-double-right"></i></button>
                            </div>
                            <div class="mt-4" style="width:125px;margin-left:175px;position:absolute;">
                            <button class="btn btn-primary ms-1" type="button" id="saveButton" style="width:50px;display: inline-block;font-weight:bold;" onclick="saveData()">Save</button>
                            <button class="btn btn-primary " id="submitButton"  type="button" style="display:none;width:50px;font-weight:bold;" onclick="submitData()">Submit</button> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <script src="/sites/gatdspproj/SiteAssets/FPS/js/jquery.js"></script>
    <script src="/sites/gatdspproj/SiteAssets/FPS/js/bootstrap.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/sites/BPR_Target/Style Library/MOSFILES/js/jquery-dateFormat.min.js"></script>

    <script>
        //var CurrentUser = _spPageContextInfo.userDisplayName;
        //$('#showCurrentUser').html(CurrentUser);
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.content');
            const prevArrow = document.getElementById('prev-arrow');
            const nextArrow = document.getElementById('next-arrow');
            let activeTab = 0;

            const buttonData = [
                {
                    number: "Button 1",
                    tabs: ["Criteria", "Evidence", "0", "1", "2", "3", "Purpose"],
                    contents: [
                        "Content for Button 1 Criteria",
                        "Content for Button 1 Evidence",
                        "Content for Button 1 0",
                        "Content for Button 1 1",
                        "Content for Button 1 2",
                        "Content for Button 1 3",
                        "Content for Button 1 Purpose"
                    ]
                },
                {
                    number: "Button 2",
                    tabs: ["Criteria", "Evidence", "0", "1", "2", "3", "Purpose"],
                    contents: [
                        "Content for Button 2 Criteria",
                        "Content for Button 2 Evidence",
                        "Content for Button 2 0",
                        "Content for Button 2 1",
                        "Content for Button 2 2",
                        "Content for Button 2 3",
                        "Content for Button 2 Purpose"
                    ]
                },
                {
                    number: "Button 3",
                    tabs: ["Criteria", "Evidence", "0", "1", "2", "3", "Purpose"],
                    contents: [
                        "Content for Button 3 Criteria",
                        "Content for Button 3 Evidence",
                        "Content for Button 3 0",
                        "Content for Button 3 1",
                        "Content for Button 3 2",
                        "Content for Button 3 3",
                        "Content for Button 3 Purpose"
                    ]
                },
                {
                    number: "Button 4",
                    tabs: ["Criteria", "Evidence", "0", "1", "2", "3", "Purpose"],
                    contents: [
                        "Content for Button 4 Criteria",
                        "Content for Button 4 Evidence",
                        "Content for Button 4 0",
                        "Content for Button 4 1",
                        "Content for Button 4 2",
                        "Content for Button 4 3",
                        "Content for Button 4 Purpose"
                    ]
                },
                {
                    number: "Button 5",
                    tabs: ["Criteria", "Evidence", "0", "1", "2", "3", "Purpose"],
                    contents: [
                        "Content for Button 5 Criteria",
                        "Content for Button 5 Evidence",
                        "Content for Button 5 0",
                        "Content for Button 5 1",
                        "Content for Button 5 2",
                        "Content for Button 5 3",
                        "Content for Button 5 Purpose"
                    ]
                }
            ];

            const updateArrowStyles = () => {
                if (activeTab === 0) {
                    prevArrow.style.background = '#e9ecef';
                    prevArrow.style.color = 'black';
                    nextArrow.style.background = '#15477C';
                    nextArrow.style.color = 'white';
                } else if (activeTab === tabs.length - 1) {
                    nextArrow.style.background = '#e9ecef';
                    nextArrow.style.color = 'black';
                    prevArrow.style.background = '#15477C';
                    prevArrow.style.color = 'white';
                } else {
                    prevArrow.style.background = '#15477C';
                    prevArrow.style.color = 'white';
                    nextArrow.style.background = '#15477C';
                    nextArrow.style.color = 'white';
                }
            };

            const updateActiveTab = (index) => {
                tabs.forEach((tab, idx) => {
                    tab.textContent = buttonData[index].tabs[idx];
                    tab.classList.toggle('active', idx === activeTab);
                });
                contents.forEach((content, idx) => {
                    content.textContent = buttonData[index].contents[idx];
                    content.classList.toggle('active', idx === activeTab);
                });
                updateArrowStyles();
            };

            prevArrow.addEventListener('click', () => {
                if (activeTab > 0) {
                    activeTab--;
                    updateActiveTab(currentNumberIndex);
                }
            });

            nextArrow.addEventListener('click', () => {
                if (activeTab < tabs.length - 1) {
                    activeTab++;
                    updateActiveTab(currentNumberIndex);
                }
            });
        
            const numberButtons = document.querySelectorAll('.btn-custom');
            let currentNumberIndex = 0;

            function updateNumberGrid() {
                numberButtons.forEach((button, index) => {
                    button.classList.remove('active');
                });
                numberButtons[currentNumberIndex].classList.add('active');
                updateActiveTab(currentNumberIndex);
            }

            function prevNumber() {
                if (currentNumberIndex > 0) {
                    currentNumberIndex--;
                    updateNumberGrid();
                }
            }

            function nextNumber() {
                if (currentNumberIndex < numberButtons.length - 1) {
                    currentNumberIndex++;
                    updateNumberGrid();
                }
            }

            function numberClickHandler(event) {
                event.preventDefault();
                currentNumberIndex = parseInt(event.target.getAttribute('data-index'));
                updateNumberGrid();
            }

            numberButtons.forEach(button => {
                button.addEventListener('click', numberClickHandler);
            });

            updateNumberGrid();

            const scoreValues = Array.from({ length: numberButtons.length }, () => '');
            const buttonStates = Array.from({ length: numberButtons.length }, () => '');
        })
            function saveData() {
                var scoreval = $('#tableScore').val();
                if (scoreval !== '') {
                    buttonStates[currentNumberIndex] = 'saved';
                    scoreValues[currentNumberIndex] = scoreval;
                    updateNumberGrid();
                } else {
                    alert("Please fill the score");
                }
            }

            function submitData() {
                saveData();
                const allScoresFilled = scoreValues.every(score => score !== '');
                if (allScoresFilled) {
                    alert('Form submitted!');
                    location.reload();
                } else {
                    alert('Please fill in all scores before submitting.');
                }
            }

        $(document).ready(function () {
            getPlants();
            getRegions();
            getSkillTeams();
        });

        function getRegions() {
            var fullUrl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getByTitle('FPSRegions')/items?$filter=IsVisible eq '1'";
            $.ajax({
                url: fullUrl,
                type: "GET",
                headers: {
                    "accept": "application/json;odata=verbose",
                    "content-type": "application/json;odata=verbose",
                },
                success: function (data) {
                    var optionsData = "";
                    optionsData += '<option value="">Select Region</option>';
                    $.each(data.d.results, function (key, value) {

                        optionsData += '<option data-id="' + value.Id + '" value="' + value.Title + '">' + value.Title + '</option>';
                    });
                    $("#Regions").html(optionsData);
                },
                error: function (error) {
                    console.log(error);
                }
            });
        }
        
        function getPlants() {
            var fullUrl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getByTitle('FPSPlants')/items?$filter=IsVisible eq '1'";
            $.ajax({
                url: fullUrl,
                type: "GET",
                headers: {
                    "accept": "application/json;odata=verbose",
                    "content-type": "application/json;odata=verbose",
                },
                success: function (data) {
                    var optionsData = "";
                    optionsData += '<option value="">Select Plant </option>';
                    $.each(data.d.results, function (key, value) {

                        optionsData += '<option data-id="' + value.Id + '" value="' + value.Title + '">' + value.Title + '</option>';
                    });
                    $("#plants").html(optionsData);
                },
                error: function (error) {
                    console.log(error);
                }
            });
        }
        
        function getSkillTeams() {
            var fullUrl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getByTitle('FPSSkillTeams')/items?$filter=isVisible eq '1'";
            $.ajax({
                url: fullUrl,
                type: "GET",
                headers: {
                    "accept": "application/json;odata=verbose",
                    "content-type": "application/json;odata=verbose",
                },
                success: function (data) {
                    var optionsData = "";
                    optionsData += '<option value="">Select Skill Teams </option>';
                    $.each(data.d.results, function (key, value) {
                        optionsData += '<option data-id="' + value.Id + '" value="' + value.Title + '">' + value.Title + '</option>';
                    });
                    $("#SkillTeamTab").html(optionsData);
                },
                error: function (error) {
                    console.log(error);
                }
            });
        }

        $("#Regions").change(function(){
            var Regions = this.value;
            var requesturl =  _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getByTitle('FPSPlants')/items?$select=Title&$filter=IsVisible eq '1' and Regions eq '" + Regions + "'&$top=4999";
            $.ajax({
                url: requesturl,
                type: "GET",
                headers: {
                    "accept": "application/json;odata=verbose",
                    "content-type": "application/json;odata=verbose",
                },
                success: function (data) { 
                    var Plants = groupBy(data.d.results, 'Title');
                    var optionData = '<option value=""> Select Plant</option>';
                    for(sg = 0; sg < Plants.length; sg++){
                        optionData += '<option value="' + Plants[sg] + '" > ' + Plants[sg] + ' </option>';
                    }
                    $("#plants").html(optionData);
                    // $("#plants").trigger('change');
                },
                error: function (error) {
                    console.log('err: ' + JSON.stringify(error));
                }
            });
        });

        function getList() {
            var Region = $("#Regions").val();
            var Plant = $("#plants").val();
            var SkillTeam =$("#SkillTeamTab").val();
            var MonthSearch = $("#monthsearch").val();

            if (!Region) {
                alert("Please choose the Region!");
                $("#Regions").focus();
                return;
            }

            if (!Plant) {
                alert("Please choose the plant!");
                $("#plants").focus();
                return;
            }

            if (!SkillTeam) {
                alert("Please choose the SkillTeam!");
                $("#SkillTeamTab").focus();
                return;
            }
            
            if (!MonthSearch) {
                alert("Please choose the Month!");
                $("#monthsearch").focus();
                return;
            }
            var fullUrl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getByTitle('FPSFinalData')/items?$orderby=Tableorder asc&$filter=Region eq '" + Region + "' and Title eq '" + Plant + "' and SkillTeam eq '" + SkillTeam + "' and Month eq '" + MonthSearch + "'";
            console.log(fullUrl);
            $.ajax({
                url: fullUrl,
                type: "GET",
                headers: {
                    "accept": "application/json;odata=verbose",
                    "content-type": "application/json;odata=verbose",
                },
                success: function (data) {
                    var tableData = "";
                    var index = 1;
                    if (data.d.results.length > 0) {
                        $.each(data.d.results, function (key, value) {
                            var ZeroSelect = OneSelect = TwoSelect = ThreeSelect = "";
                            var ZeroTDColor = OneTDColor = TwoTDColor = ThreeTDColor = "";
                            if(value.Score == "0") {
                                ZeroSelect = "selected";
                                ZeroTDColor = "background-color: yellow";
                            } else if(value.Score == "1") {
                                OneSelect = "selected";
                                OneTDColor = "background-color: yellow";
                            } else if(value.Score == "2") {
                                TwoSelect = "selected";
                                TwoTDColor = "background-color: yellow";
                            } else if(value.Score == "3") {
                                ThreeSelect = "selected";
                                ThreeTDColor = "background-color: yellow";
                            }
                            tableData += '<tr class="trh">\
                                <td>\
                                    <textarea class="form-control" name="tableComment'+ index + '" id="tableComment' + index + '" >' + ((value.Comments)?value.Comments:'') + '</textarea>\
                                </td>\
                                <td>\
                                    ' + index + '\
                                    <input type="hidden" name="formId' + index + '" id="formId' + index + '" value="' + value.ID + '">\
                                    <input type="hidden" name="tableOrder' + index + '" id="tableOrder' + index + '" value="' + value.Tableorder + '">\
                                </td>\
                                <td><div style="width: 250px;" id="tableCriteria' + index + '" >' + value.Criteria+ '</div></td>\
                                <td>\
                                    <select class="form-control" name="tableScore' + index + '" id="tableScore' + index + '" onchange="changeColor(' + index + ')">\
                                        <option value=""></option>\
                                        <option value="0" ' + ZeroSelect + '>0</option>\
                                        <option value="1" ' + OneSelect + '>1</option>\
                                        <option value="2" ' + TwoSelect + '>2</option>\
                                        <option value="3" ' + ThreeSelect + '>3</option>\
                                    </select>\
                                </td>\
                                <td> <div style="width: 250px;" id="tableEvidence' + index+ '">' + value.Evidence + '</div> </td>\
                                <td class="removeColor' + index+ '" id="ZeroTD' + index+ '" style="' + ZeroTDColor + '"> <div style="width: 250px;" id="tableZero' + index+ '">' + value.Zero + '</div> </td>\
                                <td class="removeColor' + index+ '" id="OneTD' + index+ '" style="' + OneTDColor + '"> <div style="width: 250px;" id="tableOne' + index+ '">' + value.One + '</div> </td>\
                                <td class="removeColor' + index+ '" id="TwoTD' + index+ '" style="' + TwoTDColor + '"> <div style="width: 250px;" id="tableTwo' + index+ '">' + value.Two + '</div> </td>\
                                <td class="removeColor' + index+ '" id="ThreeTD' + index+ '" style="' + ThreeTDColor + '"> <div style="width: 250px;" id="tableThree' + index+ '">' + value.Three + '</div> </td>\
                                <td> <div style="width: 250px;" id="tablePurpose' + index+ '">' + value.Purpose + '</div> </td>\
                            </tr>';
                            index++;
                        });
                        $('#showTableData').html(tableData);
                    } else {
                        // get data from source table
                        var fullUrl = _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getByTitle('FPSGeneralData')/items?$orderby=Tableorder asc&$filter=Title eq '" + SkillTeam + "'";
                        console.log(fullUrl);
                        $.ajax({
                            url: fullUrl,
                            type: "GET",
                            headers: {
                                "accept": "application/json;odata=verbose",
                                "content-type": "application/json;odata=verbose",
                            },
                            success: function (data) {
                                $.each(data.d.results, function (key, value) {
                                    tableData += '<tr class="trh">\
                                        <td>\
                                            <textarea class="form-control" name="tableComment'+ index + '" id="tableComment' + index + '" ></textarea>\
                                        </td>\
                                        <td>\
                                            ' + index + '\
                                            <input type="hidden" name="formId' + index + '" id="formId' + index + '" value="">\
                                            <input type="hidden" name="tableOrder' + index + '" id="tableOrder' + index + '" value="' + value.Tableorder + '">\
                                        </td>\
                                        <td><div style="width: 250px;" id="tableCriteria' + index + '" >' + value.Criteria+ '</div></td>\
                                        <td>\
                                            <select class="form-control" name="tableScore' + index + '" id="tableScore' + index + '" onchange="changeColor(' + index + ')">\
                                                <option value=""></option>\
                                                <option value="0">0</option>\
                                                <option value="1">1</option>\
                                                <option value="2">2</option>\
                                                <option value="3">3</option>\
                                            </select>\
                                        </td>\
                                        <td> <div style="width: 250px;" id="tableEvidence' + index+ '">' + value.Evidence + '</div> </td>\
                                        <td class="removeColor' + index+ '" id="ZeroTD' + index+ '"> <div style="width: 250px;" id="tableZero' + index+ '">' + value.Zero + '</div> </td>\
                                        <td class="removeColor' + index+ '" id="OneTD' + index+ '"> <div style="width: 250px;" id="tableOne' + index+ '">' + value.One + '</div> </td>\
                                        <td class="removeColor' + index+ '" id="TwoTD' + index+ '"> <div style="width: 250px;" id="tableTwo' + index+ '">' + value.Two + '</div> </td>\
                                        <td class="removeColor' + index+ '" id="ThreeTD' + index+ '"> <div style="width: 250px;" id="tableThree' + index+ '">' + value.Three + '</div> </td>\
                                        <td> <div style="width: 250px;" id="tablePurpose' + index+ '">' + value.Purpose + '</div> </td>\
                                    </tr>';
                                    index++;
                                });
                                $('#showTableData').html(tableData);
                            }

                        })
                    }

                }
            });
        }

           
    </script>

